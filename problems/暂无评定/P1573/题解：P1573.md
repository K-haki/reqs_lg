### 前导

这一题让我想到了一个叫做汉诺塔的东西。  
那么，本题可以模拟，但其实不用模拟，因为仔细想可以发现规律的存在。

### 题目大意

共有 444 根柱子，第四根柱子有 NNN 个圆片，可以弹出某跟柱子上顶部的圆片然后放在其他主子的顶部，问需要几步完成。

### 递推（ ~~打表~~ ）思想求解

我们先把 111 至 101010 的答案列出来，做成数表 AAA：

    
    
    1 3 5 9 13 17 25 33 41 49
    

乍一看似乎没规律，其实有。

建立一个新数表 BBB，设 B1=1B_1=1B1​=1，Bi(i≥2)=Ai−Ai−1B_i(i \geq 2)=A_i-
A_{i-1}Bi​(i≥2)=Ai​−Ai−1​ 即步数之差。

有什么用？看就知道了：

    
    
    1 2 2 4 4 4 8 8 8 8
    

一下子变成了简简单单的二重规律数组。

数一下，111、222、444、888 这几个数字出现的次数分别为 111、222、333、444，以此类推。

### 代码

    
    
    #include <bits/stdc++.h>
    using namespace std;
    long long n,ans,i,j;
    int main(){
    	cin>>n;
    	for(i=1,j=1;i<=n;i++,j=(j*2)%1000007) {n-=i;ans=(ans+i*j)%1000007;}
    	cout<<(ans+n*j)%1000007;
    	return 0;
    }
    

### **特别提醒：不开 long\tt longlong long\tt longlong 见祖宗**

